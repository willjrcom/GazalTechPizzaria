<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<head th:replace="~{layouts/frag :: head}"></head>
<head><title>Novo Pedido</title></head>

<body>
	<input type="hidden" id="trocoInicial" th:value="${trocoInicial}" />
				
	<div class="divbase">
		<div id="divBuscarCliente">
			<br>
			<div class="col-md-2">
				<a th:href="@{/cadastroCliente}">
					<button class="form-control btn btn-success"><i class="fas fa-plus" id="cadastroCliente"></i> Cliente</button>
				</a>
			</div>
			
			<br>
			<div class="row">
				<div class="col-md-10">
					<input type="search" name="celular" id="numeroCliente"
					autofocus="autofocus" class="form-control textIndent pula"
					placeholder="Digite o nome do pedido ou número do cliente"/>
				</div>
				
				<div class="col-md-2">
					<button name="buscarCliente" id="buscarCliente" onclick="buscarCliente()"
						class="form-control btn btn-primary pula"><i class="fas fa-plus"></i> Iniciar pedido</button>
				</div>
			</div>
			<br>
		</div>
		<div id="mostrarDadosCliente">
			<div class="table-responsive">
				<table class="table table-striped table-hover table-sm">
					<thead>
						<tr>
							<th class="text-center" colspan="4"><h5>Cliente</h5></th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td class="text-center col-md-1"><i class="fas fa-user-circle"></i> <span id="nomeCliente"></span></td>
							<td class="text-center col-md-1 iconesEntrega"><i class="fas fa-phone-alt"></i> <span id="celCliente"></span></td>
							<td class="text-center col-md-1 iconesEntrega"><i class="fas fa-motorcycle"></i> <span id="enderecoCliente"></span></td>
							<td class="text-center col-md-1 iconesEntrega"><i class="fas fa-money-bill-wave-alt"></i> <span id="taxaCliente"></span></td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>

	<!-------------------------------------------------------------------------------------------------------------------------->
	
	<br>
	<div class="alert alert-warning hidden" role="alert" id="alertPedidoAberto">Esse pedido ja existe!</div>
	
	<div class="row">
		<div class="col-md-6">
			<div class="divbase" id="divBuscarProdutos">
			
				<div class="row">
					<div class="form-group col-md-8">
						<input type="search" name="nome" class="form-control textIndent pula" id="nome"
						placeholder="Digite o nome/codigo do produto"/>
					</div>
			
					<div class="form-group col-md-4">
						<button name="buscarProduto" id="buscarProduto" onclick="buscarProdutos()"
						class="form-control btn btn-primary pula"><i class='fas fa-search-plus'></i> Buscar</button>
					</div>
				</div>
			</div>
	
	<!-- ------------------------------------------------------------------------------------------------- -->
			<div class="divbase divListaGeral">
				<div id="divPizzas" class="hidden">
					<div class="btn-group fRight" role="group" aria-label="Second group">
						<button type="button"  class="removerPizza btn btn-danger"><i class="fas fa-ban"></i> Remover ultima pizza adicionado</button>
					</div>
					
					<br><br>
					<div class="table-responsive">
						<table class="table table-striped table-hover table-sm caption-top">
							<caption>Pizzas</caption>
							<thead>
								<tr>
									<th class="col-md-1"><h5>Pizza</h5></th>
									<th class="col-md-1"><h5>Observação</h5></th>
									<th class="col-md-1"><h5>R$</h5></th>
									<th class="col-md-1"><h5>Borda Recheada</h5></th>
								</tr>
							</thead>
							<tbody id="listaPizza"><tr><td colspan="4">Nenhuma pizza adicionada!</td></tr></tbody>
						</table>
					</div>
				</div>
				
				<div id="divProdutos" class="hidden">
					<hr>
					
					<div class="btn-group fRight" role="group" aria-label="Second group">
						<button type="button"  class="removerProduto btn btn-danger"><i class="fas fa-ban"></i> Remover ultimo produto adicionada</button>
					</div>
					
					<br><br>
					<div class="table-responsive">
						<table class="table table-striped table-hover table-sm caption-top">
							<caption>Produtos</caption>
							<thead>
								<tr>
									<th class="col-md-1"><h5>Produto</h5></th>
									<th class="col-md-1"><h5>Observação</h5></th>
									<th class="col-md-1"><h5>R$</h5></th>
								</tr>
							</thead>
							<tbody id="listaProduto"><tr><td colspan="3">Nenhum produto adicionado!</td></tr></tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	
		<div class="col-md-6">
			<div class="divbase divListaGeral">
				<h4 class="h1Logo" align="center">Finalizar Pedido</h4>
				<hr>
				<div class="row">
					<div class="col-md-6" id="TotalProdutos"><label><b>Total de produtos:</b> 0</label></div>
					<div class="col-md-6" id="TotalPedido"><label><b>Total do pedido:</b> R$ 0,00</label></div>
					<div class="col-md-6 hidden" id="totalTodosProdutosAnteriores"><label><b>Total de produtos anteriores:</b> 0</label></div>
				</div>
				
				<div class="row">
				<!-- ------------------------------------------------------------------------------------------- -->
					<div class="col-md-6">
						<div>
							<label><b>O pedido foi pago:</b></label>
							<select name="pagoCliente" class="form-control" id="pagoCliente">
								<option value="0">Não</option>
								<option value="1">Sim</option>
							</select>
						</div>
						
						<div class="row hidden" id="divPagamentoGeral">
							<div id="divModoPagamento">
								<label><b>Modo de pagamento:</b></label>
								<select class="form-control" id="modoPagamento">
									<option value="0">Dinheiro</option>
									<option value="1">Cartão</option>
								</select>
							</div>
							
							<div id="divModoPagamentoDinheiro">
								<label><b>Receber:</b></label>
								<div class="input-group mb-3">
									<span class="input-group-text">R$</span>
									<input class="form-control" id="troco" placeholder="Precisa de troco?"/>
								</div>
							</div>
							
							<div class="hidden" id="divModoPagamentoCartao">
								<label><b>Bandeira:</b></label>
								<select class="form-control" id="modoPagamentoCartao">
									<option value="--">---</option>
									<option value="Mastercard">Mastercard</option>
									<option value="Visa">Visa</option>
									<option value="Pix">Pix</option>
									<option value="American Express">American Express</option>
									<option value="Hipercard">Hipercard</option>
									<option value="Elo">Elo</option>
									<option value="Alelo">Alelo</option>
									<option value="Amex">Amex</option>
									<option value="Diners Club">Diners Club</option>
									<option value="VR Benefícios">VR Benefícios</option>
									<option value="Cirrus">Cirrus</option>
									<option value="Cielo">Cielo</option>
									<option value="Eletron">Eletron</option>
									<option value="Sorocred">Sorocred</option>
									<option value="Maestro">Maestro</option>
									<option value="Ticket">Ticket</option>
									<option value="Sodexo">Sodexo</option>
								</select>
								<span>&nbsp;</span>
							</div>
						</div>
					</div>
				
				<!-- ------------------------------------------------------------------------------------------- -->
					<div class="row col-md-6">
						<div id="divEnvio">
							<label><b>Envio:</b></label>
							<select class="form-control" name="envioCliente" id="envioCliente">
							</select>
						</div>
						
						<div class="hidden" id="divGarcon">
							<label><b>Garçon:</b></label>
							<select class="form-control" name="garcon" id="garcon">
								<option value="--">---</option>
							</select>
						</div>
						
						<div class="hidden" id="divCobrarTaxa">
							<label><b>Cobrar taxa?</b></label>
							<select class="form-control" name="cobrarTaxa" id="cobrarTaxa">
								<option value="0">Sim</option>
								<option value="1">Não</option>
							</select>
						</div>
					</div>
				</div>
				
				<br>
				<div id="divCupom"></div>
				<div>
					<label><b>Observação do Pedido:</b></label>
					<textarea id="obsPedido" name="obsPedido" class="form-control" placeholder="Observação do pedido"></textarea>
				</div>
				<br>
				
				<div class="row">
					<div class="col-md-8">
						<button class="btn btn-danger" id="cancelar" onclick="recarregar()">
						<i class="fas fa-ban"></i> Cancelar pedido</button>
					</div>
					
					<div class="col-md-4">
						<button class="btn btn-success pula" id="BotaoEnviarPedido">
						<i class="fas fa-check"></i> Salvar pedido</button>
					</div>
				</div>
			</div>
		</div>
	</div>
	<br>
	<div class="justify-content-center loading">
  		<div class="spinner-border" role="status">
    		<span class="visually-hidden">Loading...</span>
  		</div>
	</div>
	
	<footer th:replace="~{layouts/frag :: footer}"></footer>
	
    <script th:src="@{/js/novoPedido.js}"></script>
    <script th:src="@{/js/trocoInicial.js}"></script>
	<script th:src="@{/js/validacoes.js}"></script>
</body>

	<div th:replace="~{layouts/frag :: inicio}"></div>
</html>
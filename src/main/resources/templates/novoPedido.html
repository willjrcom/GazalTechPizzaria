<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<head th:replace="~{layouts/frag :: head}"></head>
<head><title>Novo Pedido</title></head>

<body>
	<input type="hidden" id="trocoInicial" th:value="${trocoInicial}" />
				
	<div class="divbase">
		<div id="divBuscarCliente">
		
			<div class="col-md-2 fRight" id="botaoCadastrarNovoPedido">
				<a th:href="@{/cadastroCliente}"><button class="form-control btn btn-success btn-sm"><span class="fa fa-plus" id="cadastroCliente"></span> Cliente</button></a>
			</div>
			
			<h1 class="h1Logo esconder1">Novo Pedido</h1>
			<hr>
			
			<div class="row">
				<div class="form-group col-md-10">
					<input type="search" name="celular" id="numeroCliente"
					autofocus="autofocus" class="form-control textIndent pula"
					placeholder="Qual cliente você está procurando? (celular ou nome)"/>
				</div>
				
				<div class="form-group col-md-2">
					<button name="buscarCliente" id="buscarCliente" onclick="buscarCliente()"
						class="form-control btn btn-primary pula"><span class="oi oi-plus"></span> Criar</button>
				</div>
			</div>
			<br>
		</div>
		<div id="mostrarDadosCliente">
			<div class="table-responsive">
				<table>
					<tbody>
						<tr>
							<th class="text-center" colspan="4"><h5>Cliente</h5></th>
						</tr>
						<tr>
							<td class="text-center col-md-1"><i class="fas fa-user-circle"></i> <span id="nomeCliente"></span></td>
							<td class="text-center col-md-1 iconesEntrega"><i class="fas fa-phone-alt"></i> <span id="celCliente"></span></td>
							<td class="text-center col-md-1 iconesEntrega"><i class="fas fa-motorcycle"></i> <span id="enderecoCliente"></span></td>
							<td class="text-center col-md-1 iconesEntrega"><i class="fas fa-money-bill-wave-alt"></i> <span id="taxaCliente"></span></td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>

	<!-------------------------------------------------------------------------------------------------------------------------->
	
	<br>
	
	<div class="alert alert-warning hidden" role="alert" id="alertPedidoAberto">Esse pedido ja existe!</div>
	
	<div class="row">
		<div class="col-md-6">
			<div class="divbase" id="divBuscarProdutos">
			
				<div class="row">
					<div class="form-group col-md-8">
						<input type="search" name="nomeProduto" class="form-control textIndent pula" id="nomeProduto"
						placeholder="Qual produto está procurando? (Nome ou codigo de busca)"/>
					</div>
			
					<div class="form-group col-md-4">
						<button name="buscarProduto" id="buscarProduto" onclick="buscarProdutos()"
						class="form-control btn btn-primary pula"><i class='fas fa-search-plus'></i> Buscar</button>
					</div>
				</div>
			</div>
	
	<!-- ------------------------------------------------------------------------------------------------- -->
			<div class="divbase divListaGeral">
				<div>
					<h3>Pizzas</h3>
					<hr>
					
					<div class="btn-group fRight" role="group" aria-label="Second group">
						<button type="button"  class="removerPizza btn btn-danger"><span class="oi oi-ban"></span> Remover ultima pizza adicionado</button>
					</div>
					
					<br><br>
					<div class="table-responsive">
						<table>
							<thead>
								<tr>
									<th class="col-md-1"><h5>Produto</h5></th>
									<th class="col-md-1"><h5>Observação</h5></th>
									<th class="col-md-1"><h5>R$</h5></th>
									<th class="col-md-1"><h5>Borda Recheada</h5></th>
								</tr>
							</thead>
				
							<tbody id="listaPizza"><tr><td colspan="7">Nenhuma pizza adicionada!</td></tr></tbody>
						</table>
					</div>
				</div>
				
				<div>
					<hr>
					<h3>Produtos</h3>
					<hr>
					
					<div class="btn-group fRight" role="group" aria-label="Second group">
						<button type="button"  class="removerProduto btn btn-danger"><span class="oi oi-ban"></span> Remover ultimo produto adicionado</button>
					</div>
					
					<br><br>
					<div class="table-responsive">
						<table>
							<thead>
								<tr>
									<th class="col-md-1"><h5>Produto</h5></th>
									<th class="col-md-1"><h5>Observação</h5></th>
									<th class="col-md-1"><h5>R$</h5></th>
								</tr>
							</thead>
				
							<tbody id="listaProduto"><tr><td colspan="7">Nenhum produto adicionado!</td></tr></tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	
		<div class="col-md-6">
			<div class="divbase divListaGeral">
				<h2 class="h1Logo" align="center">Finalizar Pedido</h2>
				<hr>
				<div id="divEnvio"></div>
				<br>
				<h3 id="Ttotal">Total de Produtos: 0.00<br><br>Total do Pedido: R$0,00</h3><br>
				
				<div class="btn-group" role="group" aria-label="Basic example">
					<button type="button" id="cancelar" onclick="recarregar()" class="btn btn-secondary btn-danger">
					<span class="oi oi-ban"></span> Cancelar pedido</button>
				</div>
		
				<div class="btn-group fRight" role="group" aria-label="Second group">
					<button class="btn btn-secondary btn-success pula" id="BotaoEnviarPedido"><span class="oi oi-cart"></span> Salvar pedido</button>
				</div>
			</div>
		</div>
	</div>
	<br>
	<div class="justify-content-center loading">
  		<div class="spinner-border" role="status">
    		<span class="visually-hidden">Loading...</span>
  		</div>
	</div>
	
	<footer th:replace="~{layouts/frag :: footer}"></footer>
	
    <script th:src="@{/js/novoPedido.js}"></script>
	<script th:src="@{/js/validacoes.js}"></script>
</body>

	<div th:replace="~{layouts/frag :: inicio}"></div>
</html>